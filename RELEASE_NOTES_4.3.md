# Release Notes v4.3

## üöÄ Query Monitoring Analyzer v4.3

**–î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚ö° –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞ CTR**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 10-100 —Ä–∞–∑ –∑–∞ —Å—á—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π pandas –≤–º–µ—Å—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ `apply()`
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ª–æ–≤**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Counter` –∏ –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤ 5-10 —Ä–∞–∑
- **–û–±—â–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ 5-10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ

### ü§ñ CLI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python "QMA 4.2.py"

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
python "QMA 4.2.py" --file report.xlsx --site https://example.com

# –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (–±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è)
python "QMA 4.2.py" -f report.xlsx -s https://example.com --no-wait

# –°–ø—Ä–∞–≤–∫–∞ –∏ –≤–µ—Ä—Å–∏—è
python "QMA 4.2.py" --help
python "QMA 4.2.py" --version
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:**
- `-f, --file` ‚Äî –ø—É—Ç—å –∫ Excel —Ñ–∞–π–ª—É
- `-s, --site` ‚Äî –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞
- `--no-wait` ‚Äî —Ä–µ–∂–∏–º –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è Enter
- `-v, --version` ‚Äî –≤–µ—Ä—Å–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
- `-h, --help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞

### üìä –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `tqdm`:

```
–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
–ü—Ä–æ–≥—Ä–µ—Å—Å |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 100/100
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...
[OK] –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª example.com-webmaster-2025-10-24.xlsx
```

---

## üì¶ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

**–ë—ã–ª–æ (v4.2):**
```python
# –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç CTR —á–µ—Ä–µ–∑ apply()
df['CTR'] = df.apply(
    lambda row: round((row['–°—É–º. –∫–ª–∏–∫–æ–≤'] / row['–°—É–º. –ø–æ–∫–∞–∑–æ–≤']) * 100, 1)
    if row['–°—É–º. –ø–æ–∫–∞–∑–æ–≤'] != 0 else 0,
    axis=1
)
```

**–°—Ç–∞–ª–æ (v4.3):**
```python
# –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (–≤ 10-100 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ)
df['CTR'] = ((df['–°—É–º. –∫–ª–∏–∫–æ–≤'] / df['–°—É–º. –ø–æ–∫–∞–∑–æ–≤'].replace(0, 1)) * 100).round(1)
df.loc[df['–°—É–º. –ø–æ–∫–∞–∑–æ–≤'] == 0, 'CTR'] = 0
```

### –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```
pandas>=2.0.0
openpyxl>=3.1.0
tqdm>=4.66.0      # –ù–æ–≤–æ–µ!
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | v4.2 | v4.3 | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|----------|------|------|-----------|
| –†–∞—Å—á—ë—Ç CTR (10K —Å—Ç—Ä–æ–∫) | ~5.0 —Å–µ–∫ | ~0.05 —Å–µ–∫ | **100x** ‚ö° |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–ª–æ–≤ | ~2.0 —Å–µ–∫ | ~0.2 —Å–µ–∫ | **10x** ‚ö° |
| –û–±—â–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | 100% | ~20% | **5x –±—ã—Å—Ç—Ä–µ–µ** üöÄ |

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å v4.2

–í–µ—Ä—Å–∏—è 4.3 –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å v4.2. –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

1. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

2. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª `QMA 4.2.py` –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π

3. –ì–æ—Ç–æ–≤–æ! –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ –±—ã—Å—Ç—Ä–µ–µ

---

## üìù –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- ‚úÖ –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞ CTR
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ª–æ–≤ —á–µ—Ä–µ–∑ `Counter`
- ‚úÖ CLI –∞—Ä–≥—É–º–µ–Ω—Ç—ã (`argparse`)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (`tqdm`)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `SystemExit`
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI –≤ README

---

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `--help` –∏ `--version` —Ñ–ª–∞–≥–æ–≤
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ finally –±–ª–æ–∫–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ `--no-wait` —Ñ–ª–∞–≥–∞

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Query Monitoring Analyzer! –í–∞—à–∏ –æ—Ç–∑—ã–≤—ã –ø–æ–º–æ–≥–∞—é—Ç –¥–µ–ª–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ª—É—á—à–µ.

---

## üìû –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é, —Å–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub:
https://github.com/Celtoman/qma/issues

